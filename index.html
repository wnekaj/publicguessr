<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Crowdsense</title>
  <style>
    :root{
      --bg:#f9fafb;
      --card:#ffffff;
      --muted:#6b7280;
      --text:#0b0f19;
      --accent:#fb923c;
      --accent-600:#f59e0b;
      --danger:#ef4444;
    }
    html,body{height:100%}
    body{
      margin:0;
      font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
      background:linear-gradient(180deg,#ffffff,var(--bg));
      color:var(--text);
      display:grid;place-items:start center;min-height:100vh;
    }
    .hidden{display:none!important}
    .app{width:min(520px,92vw);margin-top:24px}
    .sitebar{height:56px;display:flex;align-items:center;justify-content:center;width:100%;margin-bottom:12px}
.brand{
  font-weight:800;
  letter-spacing:.2px;
  color: var(--accent);           /* orange */
  font-size: clamp(12px, 2.8vw, 14px); /* smaller on small screens */
  white-space: nowrap;            /* keep to one line */
  overflow: hidden;               /* avoid overflow on tiny screens */
  text-overflow: ellipsis;        /* add … if it’s ultra-narrow */
}
    .card{background:var(--card);border:1px solid #e5e7eb;border-radius:16px;padding:20px;box-shadow:0 10px 30px rgba(0,0,0,.06)}
    .title{font-size:clamp(22px,3.5vw,30px);margin:6px 0 2px;font-weight:800;letter-spacing:.2px;text-align:center; color: var(--accent);           /* NEW */
}
    .datebar{color:var(--muted);text-align:center;font-size:12px;margin:0 0 6px}
    .subtitle{color:var(--muted);margin:0 0 12px;text-align:center;font-size:14px}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    input[type="text"]{
      flex:1 1 280px;font-size:18px;padding:12px 14px;border-radius:12px;border:1px solid #e5e7eb;background:#fff;color:var(--text);
      outline:none;transition:box-shadow .2s ease,border-color .2s ease
    }
    input[type="text"]:focus{border-color:#fdba74;box-shadow:0 0 0 4px rgba(249,115,22,.15)}
    button{
      border:2px solid var(--accent);
      border-radius:12px;
      padding:12px 16px;
      font-size:16px;
      font-weight:700;
      cursor:pointer;
      background:#ffffff;
      color:var(--accent);
      transition:transform .05s ease-in-out, box-shadow .2s ease, background .15s ease, border-color .15s ease;
      box-shadow:0 2px 6px rgba(0,0,0,.05);
    }

    /* smaller placeholder for "Type your guess..." */
input[type="text"]::placeholder{
  font-size:14px;   /* was inheriting 18px */
  color:#9ca3af;    /* optional: slightly softer */
}

    
    button:hover{
      transform:translateY(-1px);
      box-shadow:0 6px 14px rgba(0,0,0,.10);
      background:#fff7ed;
      border-color:#f59e0b;
    }
    button:active{ transform:translateY(0); box-shadow:0 2px 6px rgba(0,0,0,.06); }

    /* Strike bar (centered under input) */
    .strikebar{ display:flex; gap:16px; margin:8px 0 4px; align-items:center; justify-content:center; }
    .strike-dot{
      width:14px;height:14px;border-radius:9999px;
      border:1px solid rgba(239,68,68,.4);
      background:rgba(239,68,68,.15);
      opacity:.25; transition:opacity .2s ease, transform .12s ease;
    }
    .strike-dot.active{opacity:1; transform:scale(1.05);}

    .board{display:grid;grid-template-columns:1fr;gap:10px;margin:12px 0 16px}

    /* Tiles (shorter height) */
    .tile{
      position:relative;overflow:hidden;
      background:#fff;border:1px solid #e5e7eb;border-radius:12px;
      padding:12px 14px;min-height:48px;
      display:flex;align-items:center;justify-content:space-between;font-weight:800;
      transition:box-shadow .2s ease,border-color .2s ease
    }
    .tile .fill{
      position:absolute;left:0;top:0;height:100%;width:0%;
      background:rgba(249,115,22,.18);transition:width 850ms ease-out
    }
    .tile .tile-content{
      position:relative;z-index:2;width:100%;
      display:flex;align-items:center;justify-content:space-between
    }
    .tile.revealed{background:#fff4e6;border-color:#fdba74;box-shadow:0 6px 16px rgba(249,115,22,.12)}
    .answer{text-transform:uppercase;letter-spacing:.5px}
    .points{color:#f97316;font-variant-numeric:tabular-nums;letter-spacing:.2px;margin-left:8px}

    /* Old HUD hidden (kept for JS compatibility) */
    .hud{display:none}

    /* Modal */
    .modal-root{position:fixed;inset:0;z-index:50}
    .modal-root.hidden{display:none!important}
    .modal-backdrop{position:absolute;inset:0;background:rgba(2,8,23,.5)}
    .modal-card{
      position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);
      width:min(480px,92vw);background:#fff;border:1px solid #e5e7eb;border-radius:16px;
      box-shadow:0 25px 60px rgba(0,0,0,.25);padding:18px 18px 14px;
    }
    .modal-title{font-weight:800;margin:0 0 6px}
    .modal-body{color:#374151;margin:0 0 12px}
    .modal-actions{display:flex;justify-content:flex-end;gap:8px}

    /* Source + email */
    .source-note{ color:#6b7280; font-size:12px; text-align:center; margin:6px 0 0; }
    .email-form{ display:flex; gap:8px; justify-content:center; margin:8px 0 0; flex-wrap:wrap; }
    .email-form input[type="email"]{
      min-width:220px; border:1px solid #e5e7eb; border-radius:12px; padding:10px 12px; font-size:14px;
      outline:none; background:#fff; color:#0b0f19;
      transition:box-shadow .2s ease, border-color .2s ease;
    }
    .email-form input[type="email"]:focus{ border-color:#fdba74; box-shadow:0 0 0 4px rgba(249,115,22,.15); }
    .email-btn{
  border:2px solid var(--accent);
  border-radius:12px;
  padding:12px 16px;
  font-size:16px;
  font-weight:700;
  cursor:pointer;
  background:#ffffff;      /* white fill */
  color:var(--accent);     /* orange text */
  transition:transform .05s ease-in-out, box-shadow .2s ease, background .15s ease, border-color .15s ease;
  box-shadow:0 2px 6px rgba(0,0,0,.05);
  font-family: inherit;    /* ensure identical font */
}
.email-btn:hover{
  transform:translateY(-1px);
  box-shadow:0 6px 14px rgba(0,0,0,.10);
  background:#fff7ed;
  border-color:#f59e0b;
}
.email-btn:active{
  transform:translateY(0);
  box-shadow:0 2px 6px rgba(0,0,0,.06);
}

    .email-msg{ font-size:12px; color:#6b7280; align-self:center; }

    /* Strike feedback: toast + animations */
.strike-toast{
  display:flex; justify-content:center;
  font-size:12px; color:#991b1b;
  background:#fee2e2; border:1px solid #fecaca;
  border-radius:9999px; padding:4px 10px; margin:6px 0 0;
  opacity:0; transform:translateY(-6px);
  pointer-events:none;
  transition:opacity .18s ease, transform .18s ease;
}
.strike-toast.show{ opacity:1; transform:translateY(0); }

/* Input shake on wrong guess */
@keyframes shake {
  0%{transform:translateX(0)}
  15%{transform:translateX(-5px)}
  30%{transform:translateX(5px)}
  45%{transform:translateX(-4px)}
  60%{transform:translateX(4px)}
  75%{transform:translateX(-2px)}
  90%{transform:translateX(2px)}
  100%{transform:translateX(0)}
}
input.shake{ animation:shake .45s ease; }

/* Card subtle red flash */
#card.card-flash{
  box-shadow:0 0 0 4px rgba(239,68,68,.16), 0 10px 30px rgba(0,0,0,.06);
  border-color:#fecaca;
  transition:box-shadow .25s ease, border-color .25s ease;
}

/* Pop the newly-lit strike dot */
@keyframes dot-pop {
  0%{ transform:scale(1); }
  40%{ transform:scale(1.55); }
  100%{ transform:scale(1.05); }
}
.strike-dot.boom{
  animation:dot-pop .35s ease-out;
  background:rgba(239,68,68,.35);
  border-color:rgba(239,68,68,.7);
  opacity:1;
}

    /* Header brand (now the main title) */
.brand{
  font-weight:800;
  letter-spacing:.2px;
  color: var(--accent);                 /* orange */
  font-size: clamp(22px, 3.5vw, 30px);  /* big, responsive */
}

/* Tagline inside the card */
.tagline{
  color: var(--text);                /* match answer colour */
  font-weight: 600;
  text-align: center;
  font-size: clamp(14px, 4vw, 18px); /* comfy 1–2 lines on mobile */
  line-height: 1.25;
  white-space: normal;
  overflow: visible;
  text-overflow: clip;
  margin: 6px 0 2px;
}



    
  </style>
</head>
<body>
  <div class="app">
<header class="sitebar">
  <div class="brand">Crowdsense</div>
</header>

<div class="card" id="card">
<p class="tagline">How well do you know the British public?</p>
      <div class="datebar" id="dailyDate"></div>
      <p class="subtitle" id="questionText">Loading...</p>

      <div class="row" style="margin-bottom:4px;">
        <input id="guessInput" type="text" placeholder="Type your guess..." autocomplete="off" />
<button id="guessBtn" type="button">Submit</button>
      </div>

      <!-- Strike bar under input -->
      <div class="strikebar" id="strikeBar" aria-label="strikes">
        <span id="strike1" class="strike-dot" title="Strike 1"></span>
        <span id="strike2" class="strike-dot" title="Strike 2"></span>
        <span id="strike3" class="strike-dot" title="Strike 3"></span>
      </div>

  <div id="strikeToast" class="strike-toast" aria-live="polite"></div>

      <div class="board" id="board"></div>

      <!-- Source + email -->
      <p id="sourceNote" class="source-note">
        Source: Public First Poll of 2,106 UK Adults from 9th Jul – 14th July 2025
      </p>

      <form id="emailForm" class="email-form" action="https://formspree.io/f/mgvnzepd" method="POST">
        <input
          id="emailInput"
          name="email"
          type="email"
          placeholder="Get tomorrow’s question by email"
          required
          autocomplete="email"
        />
        <button type="submit" class="email-btn">Subscribe</button>
        <span id="emailMsg" class="email-msg" role="status" aria-live="polite"></span>
      </form>

      <!-- keep hidden for JS compatibility -->
      <div class="hud">
        <div class="score">Score: <span id="score">0%</span></div>
        <button id="nextBtn" class="secondary hidden">Next question</button>
      </div>
    </div>
  </div>

  <!-- Modal -->
  <div id="modal" class="modal-root hidden" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div id="modalBackdrop" class="modal-backdrop"></div>
    <div id="modalCard" class="modal-card">
      <h2 id="modalTitle" class="modal-title"></h2>
      <p id="modalBody" class="modal-body"></p>
      <div class="modal-actions">
        <button id="modalClose">Close</button>
      </div>
    </div>
  </div>

  <script src="app.js?v=24"></script>
</body>
</html>
